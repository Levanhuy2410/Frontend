<!-- *ngIf="projectListService.projectListSource.value?.Projects" -->
<p-table
  *ngIf="projectList$ | async as projectList"
  [value]="projectList.Projects"
  responsiveLayout="scroll"
>
  <ng-template pTemplate="header">
    <tr>
      <th>
        <div class="p-field-checkbox">
          <p-checkbox
            [(ngModel)]="checked"
            binary="true"
            inputId="binary"
          ></p-checkbox>
        </div>
      </th>
      <th>Number</th>
      <th>Name</th>
      <th>Status</th>
      <th>Customer</th>
      <th>Start Date</th>
      <th>Delete</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-project>
    <tr>
      <td>
        <div class="p-field-checkbox">
          <p-checkbox
            [(ngModel)]="selectedProject[project.Id]"
            binary="true"
            inputId="binary"
          ></p-checkbox>
        </div>
      </td>
      <td>
        <a
          [routerLink]="['edit', project.Id]"
          routerLinkActive="router-link-active"
          >{{ project.Project_Number }}</a
        >
      </td>
      <td>{{ project.Name }}</td>
      <td>{{ project.Status | statusPipe }}</td>
      <td>{{ project.Customer }}</td>
      <td>{{ project.Start_Date | date: "shortDate" }}</td>
      <td>
        <button
          pButton
          pRipple
          type="button"
          icon="pi pi-trash"
          class="p-button-danger"
          (click)="deleteSingleProject(project.Id)"
        ></button>
      </td>
    </tr>
  </ng-template>
</p-table>

<div class="row">
  <div class="col-md-9"></div>
  <button
    class="col-md-3"
    pButton
    pRipple
    class="p-button-danger mb-2"
    type="submit"
    label="Delete Selected Project"
    (click)="deleteSelectedProject(selectedProject)"
    *ngIf="selectedProject.length > 0"
  ></button>
</div>

<p-confirmDialog [style]="{ width: '450px' }"></p-confirmDialog>

<p-paginator
  #paginator
  [rows]="10"
  [totalRecords]="100"
  pageLinkSize="5"
  (onPageChange)="paginate($event)"
></p-paginator>
